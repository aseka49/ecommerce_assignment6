{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="product-detail-card">
        <img src="{{ product.image_url or '/static/no_image.png' }}" alt="{{ product.name }}">
        <div class="card-body">
            <h2>{{ product.name }}</h2>
            <p class="text-muted">{{ product.category }}</p>
            <p>{{ product.description }}</p>
            <h4>–¶–µ–Ω–∞: <strong>{{ product.price }} ‚Ç∏</strong></h4>
            <a href="/products" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º</a>
            <button id="like-button" class="like-btn">‚ù§Ô∏è –ù—Ä–∞–≤–∏—Ç—Å—è</button>
        </div>
    </div>
</div>

<script>
document.getElementById("like-button").addEventListener("click", async () => {
    const response = await fetch(`/like/{{ product._id }}`, { method: "POST" });
    const data = await response.json();
    const btn = document.getElementById("like-button");
    btn.textContent = data.liked ? "üíî–£–±—Ä–∞—Ç—å –∏–∑ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏—Ö—Å—è" : "‚ù§Ô∏è–ù—Ä–∞–≤–∏—Ç—Å—è";
});
</script>
{% endblock %}
